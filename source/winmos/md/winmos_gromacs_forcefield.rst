力場を設定します。ソルバの種類に応じて、選択肢が変化します。

自動でパラメータを割り当て
   新たに力場パラメータを割り当てます。
   
   (一般)
      タンパク質、水分子以外の分子の力場を指定します。
      内部では、GAFF, OPLS/AA-Lの場合は :command:`acpype` が、Dreidingの場合は内製プログラムが使用されます。
      Dreidingの設定は :file:`polymer/dreiding.lib.txt` に書かれています。

      Exception
         特定の分子に対し、(General)にて選択した力場を使わず、ユーザが指定するLJパラメータを割り当てます。
         サブウィンドウの左の欄にてLJパラメータを指定したい分子にチェックを入れ、右の欄でLJパラメータを入力します。
         
         .. note::
         
            例えば固液界面系において固相の原子にLJパラメータを割り振りたい時などに使用します。

   (タンパク質/イオン)
      タンパク質、単原子の力場を指定します。ここで、PDBやgroフォーマットにおいてアミノ酸残基の名前が割り当てられている原子がタンパク質として認識されます。内部的には :command:`gmx pdb2gmx` が使用されます。
      
      .. warning::
         残基名を含まないファイルから分子構造を読み込んだ場合は本機能を使用できません。
   (水分子)
      水分子の力場を指定します。 :ref:`md_solvate_buildcell` で選択した水モデルを指定する必要があります。内部的にはCygwinにインストールされたGromacsのトポロジのライブラリからパラメータを取得します。
   タンパク質向けに[position_restraints]を追加
      タンパク質が存在する場合は :guilabel:`Advanced` タブにおける :guilabel:`-POSRES` で位置を拘束するための情報（ ``[position_restraints]`` セクション）をトポロジファイルに書き込みます。タンパク質が存在しない場合は無視されます。
      
   選択原子向けに[position_restraints]を追加
      ユーザが指定する分子に対し、 :guilabel:`Advanced` タブにおける :guilabel:`-POSRES` で位置を拘束するための情報（ ``[position_restraints]`` セクション）をトポロジファイルに書き込みます。
      例えば固液界面系に於いて固相を固定する場合などに使用します。
      
   選択原子向けに[distance/angle/dihedral_restraints]を追加
      ユーザが指定する分子に対し、 :guilabel:`Advanced` タブにおける :guilabel:`-POSRES` で距離・角度・二面角を拘束するための情報をトポロジファイルに書き込みます。
      
Dump Now
   現在の設定に基づき、力場が割り当てられたファイルを生成します。
   
   .. note::
   
      - 力場の情報をテキストエディタ等で編集してカスタマイズしたい場合は、まず本機能を使用してファイルを保存し、Gromacsの場合はtop、LAMMPSの場合はdataファイルをテキストエディタ等で編集してください。
      - 次に、Gromacsの場合は、 :guilabel:`トポロジファイルに書かれたパラメータを使用` を選択して :guilabel:`OK` ボタンをクリックしてください。そして、topファイルの場所を聞かれるので、先ほど保存・編集したtopファイルを開いてください。
      - LAMMPSの場合は、 :guilabel:`メインウィンドウのファイルに書かれたパラメータを使用` を選択し :guilabel:`Next >` ボタンをクリックしてください。そして、 :guilabel:`力場の種類を選択してください` と出るので、使用する汎用力場の種類を選択して :guilabel:`OK` ボタンをクリックしてください。
   
パラメータファイルを使用（無機物、ReaxFF、DPD向け）
   （LAMMPS向け）無機物用ポテンシャル、ReaxFFまたはDPDを使用したい場合に選択します。 :guilabel:`Next >` ボタンを押した後に、実際に使用する力場の種類を指定します。
トポロジファイルに書かれたパラメータを使用
   （Gromacs向け）既に存在しているtopファイルを用いてMD計算を実行する場合に選択します。メインウィンドウには対応するgroファイルを開いておく必要があります。
   
メインウィンドウのファイルに書かれたパラメータを使用
   （LAMMPS向け）既に存在しているdataファイルを用いてMD計算を実行する場合に選択します。メインウィンドウには使用するdataファイルを開いておく必要があります。 :guilabel:`Next >` ボタンを押した後に、使用する力場の種類を指定します。
